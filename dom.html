
<!DOCTYPE html>
<html>
	<head>
		<meta charset='utf-8'/>
		<title></title>
		<script>
			function go(callBack){
				var callStr = 'function(){\n' + callBack.toString()
				.replace(/\n/g,'\t')
				.replace(/^function\(\s*\)\{([\t]*.*)\}$/gi,'$1')
				.replace(/\t/g,'\n') + '\n}';


				callStr = callStr.replace('alert(a)','alert(a+b+c)');
				var v = eval('(' + callStr + ')');
				(v())();
			}

			go(function(){
				var a = 10;
				var b = 20;
				return function(){
					var c = 30;
					alert(a);
				};
			});
		</script>
	</head>
	<body>
	</body>
</html>
